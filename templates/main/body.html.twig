{% extends "base.html.twig" %}

{% block title %}Home{% endblock %}

{% block body %}

      <!-- Page Content -->
      <div class="container" style="padding-top:50px;">
        <!-- Jumbotron Header -->
        <header class="" style="padding: 3%;margin-top: 3%;margin-bottom: 3%;border-radius: 0.5rem;background: #fff;">
            <div class="">
                <img src="{{asset('build/images/imali.png')}}" style="width: 80px; float: left; margin-left:15%;" title="logo" alt="Marsupilami">
                <img src="{{asset('build/images/imali2.png')}}" style="width: 80px; float: right; margin-right: 15%;" title="logo" alt="Marsupilami">
                <h1 class="text-center">Bienvenue {{ user.username }} sur le site d'Imaliii</h1>

            </div>
            <br>
            <div class="row">
                <div class="col-md-6">
                    <p class="lead text-center">P'tits évènements qui arrivent :</p>
                    <div id='calendar'></div>
                </div>
                <div class="col-md-6">
                  <img src="{{asset('build/images/background.jpg')}}" class="center rounded" title="logo" alt="Background Image">
                </div>
            </div>
            <br>
            <a id="click" href="" class="btn btn-primary">Click click click</a>
        </header>

          <!-- Page Features -->
          <div class="row text-center">
              <div class="col-lg-3 col-md-6 mb-4">
                  <div class="card h-100">
                      <img class="card-img-top" src="{{ asset("build/images/dashboard/4.jpg") }}" alt="">
                      <div class="card-body">
                          <h4 class="card-title">
                              <i class="fa fa-calendar" aria-hidden="true"></i>
                              Calendrier
                          </h4>
                          <p class="card-text">P'tit calendrier avec toutes les infos utiles depuis 2016</p>
                      </div>
                      <div class="card-footer">
                          <a href="{{ path('calendar') }}" class="btn btn-primary">Laisse moi voir ca !</a>
                      </div>
                  </div>
              </div>

              <div class="col-lg-3 col-md-6 mb-4">
                  <div class="card h-100">
                      <img class="card-img-top" src="{{ asset("build/images/dashboard/3.jpg") }}" alt="">
                      <div class="card-body">
                          <h4 class="card-title">
                              <i class="fa fa-newspaper-o" aria-hidden="true"></i>
                              Localisation
                          </h4>
                          <p class="card-text">P'tites maps des potos, qui est où ?</p>
                      </div>
                      <div class="card-footer">
                          <a href="{{ path('map') }}" class="btn btn-primary">Je veux les localiser !</a>
                      </div>
                  </div>
              </div>

              <div class="col-lg-3 col-md-6 mb-4">
                  <div class="card h-100">
                      <img class="card-img-top" src="{{ asset("build/images/dashboard/1.jpg") }}" alt="lunettes du sheit">
                      <div class="card-body">
                          <h4 class="card-title">
                              <i class="fa fa-camera-retro" aria-hidden="true"></i>
                              Photos
                          </h4>
                          <p class="card-text">Consultez les belles P'tites bouilles de l'équipe</p>
                      </div>
                      <div class="card-footer">
                          <a href="{{ path('gallery') }}" class="btn btn-primary">Photos Potos</a>
                      </div>
                  </div>
              </div>

              <div class="col-lg-3 col-md-6 mb-4">
                  <div class="card h-100">
                      <img class="card-img-top" src="{{ asset("build/images/dashboard/2.jpg") }}" alt="cristal">
                      <div class="card-body">
                          <h4 class="card-title">
                            <i class="fa fa-commenting" aria-hidden="true"></i>
                            Résumé de l'équipe
                          </h4>
                          <p class="card-text">Tous les P'tits potes et évènements</p>
                          <ul class="list-group">
                              {% for event in events | slice(0,4) %}
                                  <li class="list-group-item d-flex justify-content-between align-items-center">
                                      <a href="{{ path('event',{'id': event.id}) }}">
                                          <strong class="">{{ event.name }}</strong>
                                          <span class="badge badge-primary badge-pill">{{ event.startDate|time_diff }}</span>
                                      </a>
                                  </li>
                              {% endfor %}
                          </ul>
                      </div>
                      <div class="card-footer">
                          <a href="{{ path('resume') }}" class="btn btn-primary">Trop chauuuud ^^</a>
                      </div>
                  </div>
              </div>

          </div>
          <!-- /.row -->

      </div>
      <!-- /.container -->
      
       <script>
           $(document).ready(function(){
                $('#click').click(function(e){
                  //Some code
                  e.preventDefault();
                  alert('Click Click !');
                 });
                $('.fc-scroller').addClass("home_fc-scroller");
           });
           document.addEventListener('DOMContentLoaded', function() {
               var calendarEl = document.getElementById('calendar');

               var calendar = new FullCalendar.Calendar(calendarEl, {
                   plugins: ['list'],
                   defaultView: 'listWeek',
                   events: [
                       {% for event in events %}
                       {
                           title: '{{ event.name }}',
                           start: '{{ event.startdate|date('Y-m-d') }}',
                           end: '{{ event.enddate|date('Y-m-d') }}',
                           url: '{{ path('event', { id: event.id})  }}'
                       },
                       {% endfor %}
                       {% for user in users %}
                       {
                           title: 'Anniversaire {{ user.prename }}',
                           start: '2019-{{ user.birthdate|date('m-d') }}',
                           allDay : true
                       },
                       {
                           title: 'Anniversaire {{ user.prename }}',
                           start: '2020-{{ user.birthdate|date('m-d') }}',
                           allDay : true
                       },
                       {% endfor %}
                   ]
               });

               calendar.render();
           });
       </script>
  {% endblock %}
